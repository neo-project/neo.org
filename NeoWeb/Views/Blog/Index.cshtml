@model IEnumerable<NeoWeb.Models.Blog>

@{
    ViewData["Title"] = "Index";
    Layout = "_LayoutBlog.cshtml";
}

<ul>
    @foreach (var item in (ViewBag.CreateTime as IEnumerable<NeoWeb.Models.BlogDateTimeViewModels>).Select(p => p.Year).Distinct())
    {
        <li>
            <a>@item</a>
            <ul>
                @foreach (var m in (ViewBag.CreateTime as IEnumerable<NeoWeb.Models.BlogDateTimeViewModels>).Where(p => p.Year == item).Select(p => p.Month).Distinct())
                {
                    <li><a href="~/blog/index?y=@item&m=@m">@m.ToMonth().ToUpper()</a></li>
                }
            </ul>
        </li>
    }
</ul>

@foreach (var item in Model)
{
    <div>
        <a asp-action="details" asp-route-id="@item.Id">
            <h2>@item.Title</h2>
        </a>
        <div>@item.CreateTime</div>
        <div>@item.Summary.Substring(0, Math.Min(item.Summary.Length, 100))…</div>
    </div>
}
