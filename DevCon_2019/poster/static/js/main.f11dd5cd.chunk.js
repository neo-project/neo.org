(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a.p+"static/media/poster-back.db9601a6.jpg"},49:function(e,t,a){e.exports=a.p+"static/media/download.664d7de2.ico"},53:function(e,t,a){e.exports=a.p+"static/media/logo_2x.61fd0d06.png"},54:function(e,t,a){e.exports=a(93)},58:function(e,t,a){},60:function(e,t,a){},93:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),s=a.n(o),i=a(19),c=a(20),l=a(24),u=a(21),m=a(25),d=(a(58),a(47)),h=a(16),f=(a(60),a(97)),p=a(98),g=a(96),E=a(95),S=a(14),v=a(48),b=a.n(v),y=a(49),w=a.n(y),C=a(8),I=a.n(C),N=a(17),O=function(){var e=Object(N.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return a=e.sent,console.log(a),n=(new Date).getTime(),e.abrupt("return",Math.floor((n-a)/864e5));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(N.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.nel.group/api/testnet",a={jsonrpc:"2.0",method:"getaddresstxs",params:[t,9999999,1],id:"1"},e.next=4,j("https://api.nel.group/api/testnet",a).then(function(e){return e.result.pop().blocktime.$date});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();function j(e,t){return fetch(e,{body:JSON.stringify(t),cache:"no-cache",headers:{"content-type":"application/json"},method:"POST",mode:"cors",redirect:"follow",referrer:"no-referrer"}).then(function(e){return e.json()})}var k=O,D=function(e,t){var a=document.createElement("a"),n=_(t);document.createEvent("HTMLEvents").initEvent("click",!0,!0),a.download=e,a.href=URL.createObjectURL(n),a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}))},_=function(e){for(var t=e.split(";base64,"),a=t[0].split(":")[1],n=window.atob(t[1]),r=n.length,o=new Uint8Array(r),s=0;s<r;++s)o[s]=n.charCodeAt(s);return new Blob([o],{type:a})},L=function(e){D("Neo_Devcon2019_Share.png",e)},A={IDLE:0,PROCESSING:1,SUCCESS:2,FAILURE:3},R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onUserInput=function(e,t){a.setState(Object(d.a)({},t,e))},a.onSubmit=function(e){a.setState({emailRegisterStatus:A.SENDING,getDaysStatus:A.PROCESSING}),k(a.state.address).then(function(e){a.setState({days:e}),setTimeout(a.convertCanvasToImage,10)}),""!==a.state.email&&a.registerEmail(),e.preventDefault()},a.convertCanvasToImage=function(){var e=document.getElementsByTagName("canvas")[0];a.setState({imageSrc:e.toDataURL("image/png"),getDaysStatus:A.SUCCESS})},a.registerEmail=function(){var e=Object(h.a)(Object(h.a)(a));fetch("https://neo.org/subscription/add?email=".concat(a.state.email,"&group=poster")).then(function(e){return e.text()}).then(function(t){console.log(t),t.indexOf("sucessfully")>=0?e.setState({emailRegisterStatus:A.SUCCESS,info:t}):e.setState({emailRegisterStatus:A.FAILURE,info:t})}).catch(function(t){console.log(t),e.setState({emailRegisterStatus:A.FAILURE,error:t})})},a.refresh=function(){window.location.reload()},a.handleCloseModal=function(){a.setState({getDaysStatus:A.IDLE,emailRegisterStatus:A.IDLE,error:null})},a.downloadImage=function(){L(a.state.imageSrc)},a.byteCount=function(e){for(var t=0,a=0;a<e.length;a++){var n=e.charAt(a);/^[\u0000-\u00ff]$/.test(n)?t+=1:t+=2}return t},a.computeXInCanvas=function(e){return 460-7*a.byteCount(e)},a.shareToWeibo=function(){fetch("https://api.twitter.com/1.1/statuses/update.json",{body:JSON.stringify({status:"This is a test"}),cache:"no-cache",headers:{"content-type":"application/json",authorization:"OAuth",oauth_consumer_key:"oauth_customer_key",oauth_nonce:"generated_oauth_nonce",oauth_signature:"generated_oauth_signature",oauth_signature_method:"HMAC-SHA1",oauth_timestamp:"generated_timestamp",oauth_token:"oauth_token",oauth_version:"1.0"},method:"POST",mode:"no-cors",redirect:"follow",referrer:"no-referrer"}).then(function(e){return console.log(e)})},a.state={address:"",name:"",email:"",emailRegisterStatus:A.IDLE,getDaysStatus:A.IDLE,info:null,days:0,imageSrc:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=new window.Image;t.src=b.a,t.onload=function(){e.setState({image:t})}}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"poster-generator-body"},r.a.createElement(f.a,{className:"forms",onSubmit:this.onSubmit},r.a.createElement(f.a.Group,{controlId:"formAddress"},r.a.createElement(f.a.Label,null,r.a.createElement("span",{className:"required"},"*"),"Your NEO Address"),r.a.createElement(f.a.Control,{type:"text",placeholder:"",required:!0,value:this.state.address,onChange:function(t){e.onUserInput(t.target.value,"address")}})),r.a.createElement(f.a.Group,{controlId:"formName"},r.a.createElement(f.a.Label,null,r.a.createElement("span",{className:"required"},"*"),"Your Nick Name"),r.a.createElement(f.a.Control,{type:"text",placeholder:"",required:!0,value:this.state.name,onChange:function(t){e.onUserInput(t.target.value,"name")}})),r.a.createElement(f.a.Group,{controlId:"formEmail"},r.a.createElement(f.a.Label,null,"Your Email Address"),r.a.createElement(f.a.Control,{required:!1,type:"email",placeholder:"",value:this.state.email,onChange:function(t){e.onUserInput(t.target.value,"email")}}),r.a.createElement(f.a.Text,{className:"text-muted"},"Email address is optional. If you want to receive a free ticket of NEO Devcon 2019 in Seattle, we need your email address for sending the promotional code and ticket redeem instruction.")),r.a.createElement(p.a,{variant:"primary",type:"submit",disabled:this.state.getDaysStatus!==A.IDLE},this.state.getDaysStatus===A.PROCESSING?"Generating Your Poster...":"Submit")),r.a.createElement(S.Stage,{width:950,height:540,left:0,top:0},r.a.createElement(S.Layer,null,r.a.createElement(S.Image,{x:0,y:0,width:950,height:540,image:this.state.image}),r.a.createElement(S.Text,{text:this.state.name,fontSize:40,fontStyle:"bold",fontFamily:"\u5fae\u8f6f\u96c5\u9ed1",fill:"#fff",x:this.computeXInCanvas(this.state.name),y:170}),r.a.createElement(S.Text,{text:this.state.days,fontSize:40,fontStyle:"bold",fill:"#fff",x:430,y:280}))),r.a.createElement(g.a,{size:"lg",centered:!0,show:this.state.getDaysStatus===A.SUCCESS,onHide:this.handleCloseModal},r.a.createElement(g.a.Body,{className:"modal-body-email-info"},r.a.createElement(E.a,{className:"devcon-poster-image",onClick:this.downloadImage,src:this.state.imageSrc})),r.a.createElement(g.a.Footer,null,r.a.createElement(E.a,{onClick:this.shareToWeibo,className:"share-img",src:w.a,roundedCircle:!0}))))}}]),t}(r.a.Component),U=a(53),T=a.n(U),G=function(e){function t(){return Object(i.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-header"},r.a.createElement("div",{className:"dev-container"},r.a.createElement("img",{className:"header-title",src:T.a,alt:"logo"}),r.a.createElement("p",{className:"header-sub-title"},"16-17 February 2019 - Seattle, WA"),r.a.createElement("p",{className:"header-description"},"Get your own lunar new year poster & neo devcon free ticket"))),r.a.createElement("div",null,r.a.createElement("div",{className:"dev-container"},r.a.createElement(R,null))))}}]),t}(n.Component);s.a.render(r.a.createElement(G,null),document.getElementById("root"))}},[[54,2,1]]]);
//# sourceMappingURL=main.f11dd5cd.chunk.js.map