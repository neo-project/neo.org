{"version":3,"sources":["resources/poster-back.jpg","resources/download.ico","resources/logo_2x.png","Tool.js","ImageProcess.js","EmailNotifyContent.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","getDays2","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","address","timeInSeconds","todayInSeconds","wrap","_context3","prev","next","getTimeInSeconds","sent","console","log","Date","getTime","abrupt","Math","floor","stop","this","_x3","apply","arguments","_ref4","_callee4","paramsAll","_context4","jsonrpc","method","params","id","postData","then","data","result","pop","blocktime","$date","_x4","url","fetch","body","JSON","stringify","cache","headers","content-type","mode","redirect","referrer","response","json","downloadFile","fileName","content","aLink","document","createElement","blob","base64ToBlob","createEvent","initEvent","download","href","URL","createObjectURL","dispatchEvent","MouseEvent","bubbles","cancelable","view","window","code","parts","split","contentType","raw","atob","rawLength","length","uInt8Array","Uint8Array","i","charCodeAt","Blob","type","imgData","PROCESS_STATUS","IDLE","PROCESSING","SUCCESS","FAILURE","EmailNotifyContent","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","onUserInput","value","propertyName","setState","defineProperty","onSubmit","event","emailRegisterStatus","SENDING","getDaysStatus","getDays","state","days","setTimeout","convertCanvasToImage","email","registerEmail","preventDefault","canvas","getElementsByTagName","imageSrc","toDataURL","self","assertThisInitialized","concat","text","responseText","indexOf","info","catch","error","refresh","location","reload","handleCloseModal","downloadImage","byteCount","str","bytesCount","c","charAt","test","computeXInCanvas","shareToWeibo","status","authorization","oauth_consumer_key","oauth_nonce","oauth_signature","oauth_signature_method","oauth_timestamp","oauth_token","oauth_version","name","_this2","image","Image","src","PosterBack","onload","_this3","react_default","className","Form","Group","controlId","Label","Control","placeholder","required","onChange","target","Text","Button","variant","disabled","ReactKonva","width","height","left","top","x","y","fontSize","fontStyle","fontFamily","fill","Modal","size","centered","show","onHide","Body","onClick","Footer","DownloadSource","roundedCircle","React","Component","App","Logo","alt","src_EmailNotifyContent_0","ReactDOM","render","src_App_0","getElementById"],"mappings":"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","file":"static/js/main.f11dd5cd.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/poster-back.db9601a6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/download.664d7de2.ico\";","module.exports = __webpack_public_path__ + \"static/media/logo_2x.61fd0d06.png\";","\r\nconst getEarliestTransactionTime = async address => {\r\n    return await fetch(`https://api.neoscan.io/api/main_net/v1/get_address_abstracts/${address}/1`,{mode: 'cors'})\r\n\t\t\t.then(response => response.text())\r\n\t\t\t.then(text => JSON.parse(text))\r\n\t\t\t.then(transactions => {\r\n\t\t\t\tconsole.log(transactions);\r\n\t\t\t\treturn fetch(`https://api.neoscan.io/api/main_net/v1/get_address_abstracts/${address}/${transactions.total_pages}`,{mode: 'cors'})\r\n\t\t\t\t\t.then(response => response.text())\r\n\t\t\t\t\t.then(text => JSON.parse(text))\r\n\t\t\t        .then(earlyTransactions => earlyTransactions.entries.pop().time);\r\n\t\t\t});\r\n}\r\n\r\nconst getDays = async address => {\r\n\tconst timeInSeconds = await getEarliestTransactionTime(address);\r\n\tconsole.log(timeInSeconds);\r\n    const todayInSeconds = (new Date()).getTime()/1000;\r\n    return Math.floor((todayInSeconds - timeInSeconds)/(60*60*24));\r\n}\r\n\r\nconst getDays2 = async address => {\r\n\tconst timeInSeconds = await getTimeInSeconds(address);\r\n\tconsole.log(timeInSeconds);\r\n    const todayInSeconds = (new Date()).getTime();\r\n    return Math.floor((todayInSeconds - timeInSeconds)/(60*60*24*1000));\r\n}\r\n\r\nconst getTimeInSeconds = async address => {\r\n\tconst url = 'https://api.nel.group/api/testnet';\r\n\tconst paramsAll = {\r\n\t\t\"jsonrpc\": \"2.0\",\r\n\t\t\"method\": \"getaddresstxs\",\r\n\t\t\"params\": [address, 9999999, 1],\r\n\t\t\"id\": \"1\"\r\n\t};\r\n\t\r\n\treturn await postData(url, paramsAll).then(data => data.result.pop().blocktime.$date);\r\n}\r\n\r\nfunction postData(url, data) {\r\n  return fetch(url, {\r\n    body: JSON.stringify(data), // must match 'Content-Type' header\r\n    cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    headers: {\r\n      'content-type': 'application/json'\r\n    },\r\n    method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n    mode: 'cors', // no-cors, cors, *same-origin\r\n    redirect: 'follow', // manual, *follow, error\r\n    referrer: 'no-referrer', // *client, no-referrer\r\n  })\r\n  .then(response => response.json()) // parses response to JSON\r\n}\r\n\r\nexport default getDays2;","const download = imgData =>  {\r\n    downloadFile('Neo_Devcon2019_Share.png', imgData);\r\n}\r\n\r\nconst downloadFile = (fileName, content) => {\r\n    let aLink = document.createElement('a');\r\n    let blob = base64ToBlob(content); //new Blob([content]);\r\n\r\n    let evt = document.createEvent(\"HTMLEvents\");\r\n    evt.initEvent(\"click\", true, true);//initEvent 不加后两个参数在FF下会报错  事件类型，是否冒泡，是否阻止浏览器的默认行为\r\n    aLink.download = fileName;\r\n    aLink.href = URL.createObjectURL(blob);\r\n    aLink.dispatchEvent(new MouseEvent('click', {bubbles: true, cancelable: true, view: window}));//兼容火狐\r\n}\r\n  //base64转blob\r\nconst base64ToBlob = code => {\r\n    let parts = code.split(';base64,');\r\n    let contentType = parts[0].split(':')[1];\r\n    let raw = window.atob(parts[1]);\r\n    let rawLength = raw.length;\r\n\r\n    let uInt8Array = new Uint8Array(rawLength);\r\n\r\n    for (let i = 0; i < rawLength; ++i) {\r\n      uInt8Array[i] = raw.charCodeAt(i);\r\n    }\r\n    return new Blob([uInt8Array], {type: contentType});\r\n}\r\n\r\nexport default download;\r\n","import React from 'react';\nimport './EmailNotifyContent.css';\nimport { Form, Button, Modal, Image as BootstrapImage } from 'react-bootstrap';\nimport { Stage, Layer, Text, Image } from 'react-konva';\nimport PosterBack from './resources/poster-back.jpg';\nimport DownloadSource from './resources/download.ico';\nimport getDays from './Tool';\nimport download from './ImageProcess';\n\nconst PROCESS_STATUS = {\n\tIDLE: 0,\n\tPROCESSING: 1,\n\tSUCCESS: 2,\n\tFAILURE: 3 \n}\n\nclass EmailNotifyContent extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\taddress: \"\",\n\t\t\tname: \"\",\n\t\t\temail: \"\",\n\t\t\temailRegisterStatus: PROCESS_STATUS.IDLE,\n\t\t\tgetDaysStatus: PROCESS_STATUS.IDLE,\n\t\t\tinfo: null,\n\t\t\tdays: 0,\n\t\t\timageSrc: ''\n\t\t};\n\t}\n\n\tcomponentDidMount() {\n\t\tconst image = new window.Image();\n\t\timage.src = PosterBack;\n\t\timage.onload = () => {\n\t\t  this.setState({\n\t\t\timage: image\n\t\t  });\n\t\t};\n\t  }\n\n\tonUserInput = (value, propertyName) => {\n\t\tthis.setState({[propertyName]: value});\n\t}\n\n\tonSubmit = event => {\n\t\tthis.setState({\n\t\t\temailRegisterStatus: PROCESS_STATUS.SENDING,\n\t\t\tgetDaysStatus: PROCESS_STATUS.PROCESSING\n\t\t});\n\t\t\n\t\tgetDays(this.state.address).then(days => {\n\t\t\tthis.setState({days: days});\n\t\t\tsetTimeout(this.convertCanvasToImage, 10);\n\t\t});\n\t\tif (this.state.email !== '') {\n\t\t\tthis.registerEmail();\n\t\t}\n\t\t\n    \tevent.preventDefault();\n\t}\n\n\tconvertCanvasToImage = () => {\n\t\tconst canvas = document.getElementsByTagName('canvas')[0];\n\t\tthis.setState({\n\t\t\timageSrc: canvas.toDataURL('image/png'),\n\t\t\tgetDaysStatus: PROCESS_STATUS.SUCCESS\n\t\t});\n\t}\n\n\tregisterEmail = () => {\n\t\tvar self = this;\n\t\tfetch(`https://neo.org/subscription/add?email=${this.state.email}&group=poster`)\n\t\t\t.then(response => response.text())\n\t\t\t.then(responseText => {\n\t\t\t\tconsole.log(responseText);\n\t\t\t\tif(responseText.indexOf('sucessfully') >= 0) {\n\t\t\t\t\tself.setState({\n    \t\t\t\t\temailRegisterStatus: PROCESS_STATUS.SUCCESS,\n    \t\t\t\t\tinfo: responseText\n    \t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.setState({\n    \t\t\t\t\temailRegisterStatus: PROCESS_STATUS.FAILURE,\n    \t\t\t\t\tinfo: responseText\n    \t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n    \t\t.catch(error => {\n    \t\t\tconsole.log(error);\n    \t\t\tself.setState({\n    \t\t\t\temailRegisterStatus: PROCESS_STATUS.FAILURE,\n    \t\t\t\terror: error,\n    \t\t\t});\n    \t\t});\n\t}\n\n\trefresh = () => {\n\t\twindow.location.reload();\n\t}\n\n\thandleCloseModal = () => {\n\t\tthis.setState({\n\t\t\tgetDaysStatus: PROCESS_STATUS.IDLE,\n\t\t\temailRegisterStatus: PROCESS_STATUS.IDLE,\n\t\t\terror: null\n\t\t})\n\t}\n\n\tdownloadImage = () => {\n\t\tdownload(this.state.imageSrc);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className={\"poster-generator-body\"}>\n\t\t\t\t<Form className={\"forms\"} onSubmit={this.onSubmit}>\n\t\t\t\t\t<Form.Group controlId=\"formAddress\">\n\t\t\t\t\t\t<Form.Label><span className=\"required\">*</span>Your NEO Address</Form.Label>\n  \t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"\" required={true}\n  \t\t\t\t\t\t\tvalue={this.state.address} onChange={event => {\n\t\t\t\t\t\t\t\tthis.onUserInput(event.target.value, 'address')\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId=\"formName\">\n\t\t\t\t\t\t<Form.Label><span className=\"required\">*</span>Your Nick Name</Form.Label>\n  \t\t\t\t\t\t<Form.Control type=\"text\" placeholder=\"\" required={true}\n  \t\t\t\t\t\t\tvalue={this.state.name} onChange={event => {\n\t\t\t\t\t\t\t\tthis.onUserInput(event.target.value, 'name')\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Form.Group controlId=\"formEmail\">\n\t\t\t\t\t\t<Form.Label>Your Email Address</Form.Label>\n  \t\t\t\t\t\t<Form.Control required={false} type=\"email\" placeholder=\"\" \n  \t\t\t\t\t\t\tvalue={this.state.email} onChange={event => {\n\t\t\t\t\t\t\t\tthis.onUserInput(event.target.value, 'email')\n\t\t\t\t\t\t\t}}/>\n\t\t\t\t\t\t<Form.Text className=\"text-muted\">\n     \t\t\t\t\t\tEmail address is optional. \n\t\t\t\t\t\t\tIf you want to receive a free ticket of NEO Devcon 2019 in Seattle, we need your email address for sending the promotional code and ticket redeem instruction.\n    \t\t\t\t\t</Form.Text>\n\t\t\t\t\t</Form.Group>\n\t\t\t\t\t<Button variant=\"primary\" type=\"submit\" disabled={this.state.getDaysStatus !== PROCESS_STATUS.IDLE}>\n    \t\t\t\t\t{this.state.getDaysStatus === PROCESS_STATUS.PROCESSING ? 'Generating Your Poster...' : 'Submit'}\n  \t\t\t\t\t</Button>\n  \t\t\t\t</Form>\n\t\t\t\t<Stage width={950} height={540} left={0} top={0}>\n\t\t\t\t\t  \t<Layer>\n\t\t\t\t\t\t\t<Image x={0} y={0}\n\t\t\t\t\t\t\t\twidth={950} height={540}\n\t\t\t\t\t\t\t\timage={this.state.image} />\n\t\t\t\t\t\t\t<Text text={this.state.name} fontSize={40} fontStyle={'bold'} fontFamily={'微软雅黑'}\n\t\t\t\t\t\t\t\tfill={'#fff'} x={this.computeXInCanvas(this.state.name)} y={170}/>\n\t\t\t\t\t\t\t<Text text={this.state.days} fontSize={40} fontStyle={'bold'}\n\t\t\t\t\t\t\t\tfill={'#fff'} x={430} y={280}/>\n\t\t\t\t\t\t</Layer>\n     \t\t\t</Stage>\n\n  \t\t\t\t<Modal size=\"lg\" centered\n\t\t\t\t\t  show={this.state.getDaysStatus === PROCESS_STATUS.SUCCESS} onHide={this.handleCloseModal}>\n          \t\t\t<Modal.Body className=\"modal-body-email-info\">\n\t\t\t\t\t  <BootstrapImage className={'devcon-poster-image'} onClick={this.downloadImage} src={this.state.imageSrc} />\n          \t\t\t</Modal.Body>\n\t\t\t\t\t<Modal.Footer>\n\t\t\t\t\t\t<BootstrapImage onClick={this.shareToWeibo} className={'share-img'} src={DownloadSource} roundedCircle />\n  \t\t\t\t\t</Modal.Footer>\n        \t\t</Modal>\n  \t\t\t</div>\n\t\t\t)\n\t}\n\n\tbyteCount = str => {\n\t\tvar bytesCount = 0;\n\t\tfor (var i = 0; i < str.length; i++)\n\t\t{\n\t\t  var c = str.charAt(i);\n\t\t  if (/^[\\u0000-\\u00ff]$/.test(c)) //匹配双字节\n\t\t  {\n\t\t  bytesCount += 1;\n\t\t  }\n\t\t  else\n\t\t  {\n\t\t  bytesCount += 2;\n\t\t  }\n\t\t}\n\t\treturn bytesCount;\n\t}\n\n\tcomputeXInCanvas = str => {\n\t\tconst byteCount = this.byteCount(str);\n\t\treturn (460 - byteCount * 7);\n\t}\n\n\tshareToWeibo = () => {\n\t\tconst data = {\n\t\t\tstatus: 'This is a test'\n\t\t}\n\t\tfetch('https://api.twitter.com/1.1/statuses/update.json', {\n\t\t\tbody: JSON.stringify(data), // must match 'Content-Type' header\n\t\t\tcache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\n\t\t\theaders: {\n\t\t\t\t'content-type': 'application/json',\n\t\t\t\t'authorization': 'OAuth',\n\t\t\t\t'oauth_consumer_key':\"oauth_customer_key\",\n\t\t\t\t'oauth_nonce':\"generated_oauth_nonce\",\n\t\t\t\t'oauth_signature':\"generated_oauth_signature\",\n\t\t\t\t'oauth_signature_method':\"HMAC-SHA1\",\n\t\t\t\t'oauth_timestamp':\"generated_timestamp\",\n\t\t\t\t'oauth_token':\"oauth_token\",\n\t\t\t\t'oauth_version':\"1.0\"\n\t\t\t},\n\t\t\tmethod: 'POST', // *GET, POST, PUT, DELETE, etc.\n\t\t\tmode: 'no-cors', // no-cors, cors, *same-origin\n\t\t\tredirect: 'follow', // manual, *follow, error\n\t\t\treferrer: 'no-referrer', // *client, no-referrer\n\t\t  })\n\t\t  .then(response => console.log(response)) // parses response to JSON\n\t}\n}\n\n\n\nexport default EmailNotifyContent;","import React, { Component } from 'react';\nimport './App.css';\nimport EmailNotifyContent from './EmailNotifyContent';\nimport Logo from './resources/logo_2x.png';\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"App-header\">\n          <div className=\"dev-container\">\n            <img className=\"header-title\" src={Logo} alt=\"logo\"/>\n            <p className=\"header-sub-title\">16-17 February 2019 - Seattle, WA</p>\n            <p className=\"header-description\">Get your own lunar new year poster & neo devcon free ticket</p>\n          </div>\n        </div>\n        <div>\n          <div className=\"dev-container\">\n            <EmailNotifyContent />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}